(window.leihuoJsonp_d35d372c=window.leihuoJsonp_d35d372c||[]).push([[0],{"/z5g":function(t,e,n){"use strict";var i=n("JUzz");n.n(i).a},"2QXC":function(t,e,n){},COgr:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-task"},[n("div",{class:["task-content","bg"+t.tabIndex]},[n("div",{staticClass:"back playAudio",on:{click:t.back}}),t._v(" "),n("div",{staticClass:"login-info"},[t.isLogin&&t.userInfo?n("div",{staticClass:"user"},[t._v("Current Binding:"+t._s(t.userInfo.roleName)+" "),t.showLogout?n("span",{staticClass:"btn playAudio",on:{click:t.logout}},[t._v("Exit")]):t._e()]):n("div",{staticClass:"user"},[t._v(" Not logged in, only this round will be saved. "),n("span",{staticClass:"btn login playAudio",on:{click:t.login}},[t._v("Login")])])]),t._v(" "),n("div",{staticClass:"tab"},t._l(t.tabItems,(function(e,i){return n("div",{key:i,class:["item playAudio",{active:t.tabIndex===i,red:t.needRedPoint[i]}],on:{click:function(e){t.tabChange(i)}}},[n("span",{staticClass:"playAudio"},[t._v(t._s(e))])])}))),t._v(" "),0===t.tabIndex?n("master-task",{key:t.key}):t._e(),t._v(" "),1===t.tabIndex?n("invite-task",{key:t.key}):t._e(),t._v(" "),2===t.tabIndex?n("expression-task",{key:t.key}):t._e()],1)])};i._withStripped=!0;var s=n("lSNA"),a=n.n(s),o=n("m/+D"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"master-task"},[n("div",{class:["jb-icon","jb"+t.feedLevel]}),t._v(" "),n("main",{staticClass:"content"},[n("div",{staticClass:"yx"},[n("div",{staticClass:"count"},[n("span",[t._v("x"+t._s(t.ballCount))])]),t._v(" "),n("div",{class:["feed playAudio",{disabled:t.ballCount<=0}],on:{click:t.feed}})]),t._v(" "),t.rewardList.length>0?n("div",{staticClass:"rewards"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"current",style:{height:t.getProgressHeight()+"rem"}})]),t._v(" "),n("div",{staticClass:"feedCount",style:{top:Math.max(.1,t.getProgressHeight()-.2)+"rem"}},[n("span",[t._v(t._s(t.feedProgress))])]),t._v(" "),t._l(t.rewardList,(function(e,i){return n("div",{key:i,class:["reward-item","status"+e.status]},[n("img",{staticClass:"icon",attrs:{src:e.propList[0].imageUrl,alt:""}}),t._v(" "),n("div",{staticClass:"count"},[t._v("x"+t._s(e.propList[0].number))]),t._v(" "),n("div",{class:["need-count",{get:t.feedProgress>=e.need}]},[t._v(t._s(e.need))]),t._v(" "),2===e.status?n("div",{staticClass:"get-reward playAudio",on:{click:function(n){t.getReward(e.level)}}}):t._e(),t._v(" "),e.time?n("div",{staticClass:"time"},[t._v(t._s(e.time)+" Open for prize claim")]):t._e()])}))],2):t._e()]),t._v(" "),t.feedPopShow&&t.feedCount?n("feed-pop",{attrs:{"feed-count":t.feedCount},on:{close:t.feedPopClose}}):t._e()],1)};r._withStripped=!0;var c=n("yXPU"),l=n.n(c),u=n("o0o1"),d=n.n(u),v=n("gG2W"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"feed-pop playAudio",on:{click:function(e){return e.target!==e.currentTarget?null:t.close(e)}}},[n("div",{staticClass:"main"}),t._v(" "),n("div",{staticClass:"feed-count"},[t._v("Sweet Dumpling×"+t._s(t.feedCount)+" have been fed to Forerunner")]),t._v(" "),n("div",{staticClass:"close playAudio",on:{click:t.close}},[t._v("Click to skip")])])};h._withStripped=!0;var f={name:"feed-pop",props:["feedCount"],methods:{close:function(){this.$emit("close")}}},p=(n("dvef"),n("KHd+")),g=Object(p.a)(f,h,[],!1,null,null,null);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}g.options.__file="src/components/task/feedPop.vue";var w={name:"master-task",components:{feedPop:g.exports},data:function(){return{ballCount:0,feedProgress:0,feedLevel:1,rewardList:[],feedPopShow:!1,feedCount:0,rewardWait:!0}},methods:{feedPopClose:function(){this.feedPopShow=!1,this.feedCount=0},getReward:function(t){var e=this;this.rewardWait&&(this.rewardWait=!1,setTimeout((function(){e.rewardWait=!0}),2e3),Object(v.b)({level:t}).then((function(){e.$store.commit("popChange",{show:!0,msg:"Receive successfully"}),window.dispatchEvent(new CustomEvent("taskRefresh")),e.getBallInfo()})))},feed:function(){var t=this;return l()(d.a.mark((function e(){var n,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isLogin){e.next=12;break}if(!(t.ballCount>0)){e.next=10;break}return e.next=4,Object(v.c)();case 4:n=e.sent,i=n.data,window.dispatchEvent(new CustomEvent("taskRefresh")),t.feedCount=i.feedCount,t.feedPopShow=!0,t.getBallInfo();case 10:e.next=13;break;case 12:t.$store.commit("popChange",{show:!0,status:"login",loginType:"common"});case 13:case"end":return e.stop()}}),e)})))()},getBallInfo:function(){var t=this;Object(v.f)().then((function(e){var n=e.data;t.ballCount=t.isLogin?n.ballCount:window.localStorage.getItem("score")||0,t.feedProgress=n.feedProgress,t.rewardList=n.rewardList,t.feedLevel=n.feedLevel||1}))},getProgressHeight:function(){var t=this,e=this.rewardList.map((function(t){return t.need}));if(this.feedProgress<=e[0])return this.feedProgress/e[0]*.93;if(this.feedProgress>e[e.length-1])return 15.3;var n=!0,i=0;return e.forEach((function(s,a){t.feedProgress<s&&n&&(n=!1,i=.93+1.93*(a-1)+(t.feedProgress-e[a-1])/(s-e[a-1])*1.93)})),i}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Vuex.mapState(["isLogin"])),mounted:function(){var t=this;this.getBallInfo(),window.addEventListener("gameSettleFeed",(function(){t.getBallInfo()}))},destroyed:function(){var t=this;window.removeEventListener("gameSettleFeed",(function(){t.getBallInfo()}))}},_=w,b=(n("gtHE"),Object(p.a)(_,r,[],!1,null,null,null));b.options.__file="src/components/task/masterTask.vue";var y=b.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"invite-task"},[n("div",{staticClass:"encore-count"},[n("span",{style:{fontSize:t.getEncoreCountSize()+"rem"}},[t._v("X"+t._s(t.encoreCount))])]),t._v(" "),n("div",{staticClass:"use-text"},[t._v("Item Effect: one chance to revive at the end of the game")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"invite-info"},t._l(t.inviteList,(function(e,i){return n("div",{key:i,staticClass:"invite-main"},[1!==e.status&&e.avatarUrl?n("img",{staticClass:"avatar",attrs:{src:e.avatarUrl,alt:""}}):t._e(),t._v(" "),n("div",{class:["invite-item",{invited:1!==e.status}]},[n("span",{staticClass:"name-index"},[t._v(t._s(t.chineseNumbers[i])+" FRIEND")]),t._v(" "),n("span",{staticClass:"invite-reward-icon"}),t._v(" "),1===e.status?n("div",{staticClass:"invite-btn playAudio",on:{click:t.invite}}):t._e(),t._v(" "),n("span",{staticClass:"invite-reward-count"},[t._v("x"+t._s(i+1))]),t._v(" "),1!==e.status?n("div",{class:["btn playAudio",{got:3===e.status}],on:{click:function(n){t.getReward(e)}}}):t._e()])])})))])};function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}C._withStripped=!0;var O={name:"invite-task",data:function(){return{encoreCount:0,inviteList:[],chineseNumbers:["FIRST","SECOND","THIRD","FOURTH"],toastShow:!1,rewardWait:!0}},methods:{invite:function(){this.isLogin?(this.$store.commit("setShareInfo",{type:"invite"}),this.$store.commit("popChange",{show:!0,status:"share"})):this.$store.commit("popChange",{show:!0,status:"login",loginType:"common"})},getReward:function(t){var e=this;if(2===t.status){if(!this.rewardWait)return;this.rewardWait=!1,setTimeout((function(){e.rewardWait=!0}),2e3),Object(v.k)({position:t.position}).then((function(){e.$store.commit("setToastInfo",{show:!0,msg:" Obtain Rebirth Charm X".concat(t.position)}),window.dispatchEvent(new CustomEvent("taskRefresh")),e.getInviteInfo()}))}},getInviteInfo:function(){var t=this;Object(v.j)().then((function(e){var n=e.data;t.encoreCount=n.encoreCount,t.inviteList=n.assistList}))},getEncoreCountSize:function(){return this.encoreCount<10?.46:.36}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Vuex.mapState(["userInfo","isLogin"])),mounted:function(){this.getInviteInfo()}},R=O,j=(n("nTLI"),Object(p.a)(R,C,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"intro"},[n("span",{staticClass:"count"}),t._v(" "),n("span",{staticClass:"invite-intro"},[t._v("Ask someone to scan the invitation image,"),n("br"),t._v("then both of you can obtain Rebirth Charms")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reset-text"},[t._v("The number of Rebirth Charms and the progress of"),n("br"),t._v("\n    invitations are reset at 4pm each day")])}],!1,null,null,null));j.options.__file="src/components/task/inviteTask.vue";var x=j.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"expression-task"},[n("div",{staticClass:"expression-main"},t._l(t.expressionList,(function(e,i){return n("div",{key:i,class:["expression-item playAudio","item"+(i+1),{active:1!==e.status,canLook:2===e.status,getReward:2===e.rewardStatus}],on:{click:function(n){if(n.target!==n.currentTarget)return null;t.checkExpression(e)}}},[3===i?n("div",{staticClass:"reward playAudio",on:{click:function(n){if(n.target!==n.currentTarget)return null;t.getReward(e)}}}):t._e()])})))])};I._withStripped=!0;var S={name:"expression-task",data:function(){return{expressionList:[],toastShow:!1,rewardDebounce:!0}},methods:{getReward:function(t){var e=this;return l()(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.rewardDebounce){n.next=2;break}return n.abrupt("return",!1);case 2:if(e.rewardDebounce=!1,setTimeout((function(){e.rewardDebounce=!0}),2e3),1!==t.status){n.next=8;break}e.checkExpression(t),n.next=15;break;case 8:if(2!==t.rewardStatus){n.next=10;break}return n.abrupt("return");case 10:return n.next=12,Object(v.h)();case 12:e.getExpressionInfo(),window.dispatchEvent(new CustomEvent("taskRefresh")),e.$store.commit("popChange",{show:!0,status:"common",msg:"Receive successfully"});case 15:case"end":return n.stop()}}),n)})))()},checkExpression:function(t){var e=this;1!==t.status?2===t.status?Object(v.d)({id:t.id}).then((function(){window.dispatchEvent(new CustomEvent("taskRefresh")),e.checkShareIcon(t.id),e.getExpressionInfo()})):this.checkShareIcon(t.id):this.$store.commit("setToastInfo",{show:!0,msg:"not yet unlocked"})},checkShareIcon:function(t){this.$store.commit("setExpressionId",t),this.$store.commit("popChange",{show:!0,status:"expressionShare"})},getExpressionInfo:function(){var t=this;Object(v.g)().then((function(e){var n=e.data;t.expressionList=n.guideList}))}},mounted:function(){this.getExpressionInfo()}},E=(n("/z5g"),Object(p.a)(S,I,[],!1,null,"f6bf76b2",null));function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}E.options.__file="src/components/task/expressionTask.vue";var T={name:"Task",components:{masterTask:y,inviteTask:x,expressionTask:E.exports},data:function(){return{tabItems:["Feeding Quest","Daily Invitation","Emojis"],tabIndex:0,key:0,needRedPoint:[!1,!1,!1]}},methods:{tabChange:function(t){this.tabIndex=t},back:function(){var t=this.$route.query.type;"master"===t&&window.dispatchEvent(new CustomEvent("taskToGameOver")),"master"===t||"invite"===t?this.$router.go(-1):this.$router.push("/home")},logout:function(){window.localStorage.setItem("noLoginData",""),this.$multiLogin.logout({onLogout:function(){window.location.reload()}})},login:function(){Object(o.g)(this.$multiLogin,(function(){}))},getRedPoint:function(){var t=this;Object(v.l)().then((function(e){if(e.code===v.a.SUCCESS){var n=e.data;t.needRedPoint=[n.ball,n.encore,n.guide]}}))}},created:function(){"invite"===this.$route.query.type&&(this.tabIndex=1)},mounted:function(){console.log(this.loginChannel),this.getRedPoint(),window.addEventListener("taskRefresh",this.getRedPoint)},destroyed:function(){window.removeEventListener("taskRefresh",this.getRedPoint)},computed:L(L({},Vuex.mapState(["isLogin","userInfo","channel","loginChannel"])),{},{showLogout:function(){return"wxXcx"!==this.loginChannel&&"xcxInner"!==this.loginChannel}}),watch:{userInfo:function(){this.key++}}},D=(n("DbQh"),Object(p.a)(T,i,[],!1,null,null,null));D.options.__file="src/containers/Task.vue";e.default=D.exports},DbQh:function(t,e,n){"use strict";var i=n("Nxc3");n.n(i).a},JUzz:function(t,e,n){},K2nT:function(t,e,n){"use strict";var i=n("joTT");n.n(i).a},Nxc3:function(t,e,n){},XWO8:function(t,e,n){"use strict";var i=n("aZs7");n.n(i).a},aO9w:function(t,e,n){},aZs7:function(t,e,n){},dvef:function(t,e,n){"use strict";var i=n("eCQF");n.n(i).a},eCQF:function(t,e,n){},gtHE:function(t,e,n){"use strict";var i=n("2QXC");n.n(i).a},hh4e:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-rank"},[n("div",{staticClass:"title"},[n("div",{staticClass:"back playAudio",on:{click:t.back}}),t._v(" "),t._l(t.rankType,(function(e,i){return n("div",{key:i,class:["item playAudio",{active:t.rankIndex===i}],on:{click:function(e){t.titleChange(i)}}})}))],2),t._v(" "),n("div",{staticClass:"main-content"},[n("div",{staticClass:"top-content"},[n("div",{class:["mine",{all:!0}]},[n("div",{staticClass:"main"},[t.selfRank?[t.selfRank.rank||t.selfRank.ratio?n("div",{staticClass:"rank selfRank"},[t._v(t._s(t.getSelfRank()))]):t._e(),t._v(" "),n("img",{staticClass:"icon",attrs:{src:t.selfRank.avatarUrl,alt:""}}),t._v(" "),n("div",{staticClass:"icon-wrap"}),t._v(" "),n("div",{staticClass:"name"},[n("span",[t._v(t._s(t.selfRank.nickname))])]),t._v(" "),n("div",{staticClass:"score"},[n("span",[t._v(t._s(t.selfRank.score))])])]:n("div",{staticClass:"noLogin"},[n("div",{staticClass:"icon-wrap"}),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"login playAudio",on:{click:t.login}},[t._v("Login")])])],2)])]),t._v(" "),n("div",{staticClass:"list"},t._l(t.list,(function(e,i){return n("div",{staticClass:"content"},[n("div",{staticClass:"main"},[n("div",{staticClass:"rank"},[t._v(t._s(i+1))]),t._v(" "),n("img",{staticClass:"icon",attrs:{src:e.avatarUrl}}),t._v(" "),n("div",{staticClass:"icon-wrap"}),t._v(" "),n("div",{staticClass:"name"},[n("span",[t._v(t._s(e.nickname))])]),t._v(" "),n("div",{staticClass:"score"},[n("span",[t._v(t._s(e.score))])])])])}))),t._v(" "),n("div",{staticClass:"share-btn playAudio",on:{click:function(e){return e.target!==e.currentTarget?null:t.share(e)}}},[t.isLogin?n("div",{staticClass:"icon",on:{click:t.showTip}}):t._e(),t._v(" "),t.showTips&&t.isLogin?n("div",{staticClass:"share-tip"}):t._e()]),t._v(" "),0===t.list.length?n("div",{staticClass:"noData"},[n("i"),t._v("\n      A bunch of flying squirrels are on their way!\n    ")]):t._e()]),t._v(" "),n("div",{staticClass:"bottom"})])};i._withStripped=!0;var s=n("lSNA"),a=n.n(s),o=n("m/+D"),r=n("gG2W");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var l={name:"Rank",data:function(){return{showTips:!1,rankType:["总排行","今日排行"],rankIndex:0,shareRankList:null,allRank:{list:[],selfRank:{}},todayRank:{list:[],selfRank:{}},list:[],selfRank:{}}},methods:{showTip:function(){this.showTips=!0},share:function(){this.isLogin?(this.$store.commit("setShareInfo",{type:"rank"}),this.$store.commit("popChange",{show:!0,status:"share"})):this.$store.commit("popChange",{show:!0,status:"login",loginType:"common"})},login:function(){Object(o.g)(this.$multiLogin,(function(){}))},back:function(){this.$router.push("/")},titleChange:function(t){this.rankIndex!==t&&(this.rankIndex=t,this.getRankList())},getRankList:function(){var t=this;0===this.rankIndex?Object(r.p)({region:"total"}).then((function(e){t.handleRank(e.data)})):Object(r.o)().then((function(e){t.handleRank(e.data)}))},handleRank:function(t){if($(".main-content .list").scrollTop(0),this.list=t.rankList,this.selfRank=t.myInfo,this.isLogin){var e={total:{name:"National Ranking",ratio:0!==t.totalInfo.rank?t.totalInfo.rank:"Top".concat(t.totalInfo.ratio,"%")},today:{name:"Today's Ranking",ratio:0!==t.todayInfo.rank?t.todayInfo.rank:"Top".concat(t.todayInfo.ratio,"%")}};1===this.rankIndex?this.shareRankList=[e.today,e.total]:this.shareRankList=[e.total,e.today],this.$store.commit("setRankAndRecordInfo",{type:"rank",list:this.shareRankList})}},getSelfRank:function(){return 0!==this.selfRank.rank?this.selfRank.rank:"Top".concat(Math.round(this.selfRank.ratio),"%")}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Vuex.mapState(["userInfo","shareInfo","isLogin","channel"])),mounted:function(){var t=this;$(".container-rank").click((function(e){$(e.target).hasClass("icon")||$(e.target).hasClass("share-tip")||(t.showTips=!1)}))},watch:{userInfo:{immediate:!0,handler:function(t){this.getRankList()}}}},u=l,d=(n("XWO8"),n("KHd+")),v=Object(d.a)(u,i,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text"},[n("span",[t._v("Not logged in")]),t._v(" "),n("span",[t._v("log in to be listed")])])}],!1,null,null,null);v.options.__file="src/containers/Rank.vue";e.default=v.exports},joTT:function(t,e,n){},"mhr+":function(t,e,n){var i={"./000.png":"cDsh","./001.png":"7EO2","./002.png":"ThNM","./003.png":"eXs1","./004.png":"GK5u","./005.png":"vdZr","./006.png":"I1nm","./007.png":"AfJo","./008.png":"wPX3","./009.png":"uIod"};function s(t){var e=a(t);return n(e)}function a(t){var e=i[t];if(!(e+1)){var n=new Error('Cannot find module "'+t+'".');throw n.code="MODULE_NOT_FOUND",n}return e}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id="mhr+"},nTLI:function(t,e,n){"use strict";var i=n("vQ60");n.n(i).a},pET6:function(t,e,n){"use strict";var i=n("aO9w");n.n(i).a},u3H2:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"bg"}),t._v(" "),n("div",{class:["home-main",{start:t.gameStart}]},[n("div",{staticClass:"login-info"},[t.isLogin&&t.userInfo?n("div",{staticClass:"user"},[t._v(t._s(t.userInfo.roleName)+" "),t.showLogout?n("span",{staticClass:"btn playAudio",on:{click:t.logout}},[t._v("Exit")]):t._e()]):n("div",{staticClass:"user"},[t._v(" Not logged in "),n("span",{staticClass:"btn login playAudio",on:{click:t.login}},[t._v("Login")])])]),t._v(" "),n("div",{staticClass:"goTank"},[n("span",{staticClass:"encoreCount"},[t._v(t._s(t.encoreCount))]),t._v(" "),n("span",{staticClass:"add playAudio",on:{click:t.goTask}})]),t._v(" "),n("div",{class:["audio-switch playAudio",{close:!t.audioStatus}],on:{click:t.audioSwitch}}),t._v(" "),n("div",{staticClass:"operates"},[n("div",{staticClass:"item rank playAudio",on:{click:t.rankShow}}),t._v(" "),n("div",{staticClass:"item task playAudio",on:{click:t.taskShow}},[t.hasCanGetReward?n("div",{staticClass:"point"}):t._e()]),t._v(" "),n("div",{staticClass:"item guide playAudio",on:{click:function(e){t.ruleShow(!0)}}})]),t._v(" "),t.showRule?n("rule",{on:{hideRule:function(e){t.ruleShow(!1)}}}):t._e()],1),t._v(" "),n("div",{staticClass:"slogan"}),t._v(" "),n("div",{class:{start:t.canFly},attrs:{id:"feishu"},on:{transitionend:t.flyEnd}})])};i._withStripped=!0;var s=n("lSNA"),a=n.n(s),o=n("gG2W"),r=n("vD+9"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-rule"},[n("div",{staticClass:"main"},[n("div",{staticClass:"close playAudio",on:{click:t.hideRule}}),t._v(" "),n("div",{staticClass:"title"}),t._v(" "),t._m(0)])])};c._withStripped=!0;var l={name:"Rule",methods:{hideRule:function(){this.$emit("hideRule")}},mounted:function(){}},u=(n("K2nT"),n("KHd+")),d=Object(u.a)(l,c,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"item"},[n("div",{staticClass:"small-title1"},[t._v("[Event Time]")]),t._v(" "),n("div",{staticClass:"text"},[t._v("\n          20:00 (UTC), February 1, 2023,"),n("br"),t._v("\n          to 20:00 (UTC), February 15, 2023\n        ")]),t._v(" "),n("div",{staticClass:"small-title1"},[t._v("[How to Play]")]),t._v(" "),n("div",{staticClass:"text"},[t._v("\n          1. Mobile Users: start the game and tap anywhere on the screen to move Flying Squirrel up and down to get across obstacles. The farther Flying Squirrel flies, the more dumplings you'll get. Don't crash into any obstacle."),n("br"),n("br"),t._v("\n          2. PC Users: click the [Left Mouse Button] to move Flying Squirrel up and down."),n("br"),n("br"),t._v("\n          3. Xbox Controller Users: tap [A] to move Flying Squirrel up and down. The Left Stick acts as the mouse, and tap [A] to confirm.\n          Play it yourself and explore more fun!\n        ")]),t._v(" "),n("div",{staticClass:"small-title2"},[t._v("[How to get Rebirth Charms]")]),t._v(" "),n("div",{staticClass:"text"},[t._v("\n          Rebirth Charms (the item effect: get a chance to revive at the end of the game) are automatically issued two times a day at UTC 20:00, and you can also get additional Rebirth Charms every day through the following 3 ways:"),n("br"),n("br"),t._v('\n          Way 1: Give Rebirth Charms to your friend through "Home - Quest - Daily Invitation", you can give 10 each time, your friend can get Rebirth Charms by clicking on the link or scanning the code on the image, at the same time you can receive rewards corresponding to your invitation progress at "Home - Quest - Daily Invitation".'),n("br"),n("br"),t._v('\n          Way 2: Share your game results or show off your ranking through "Home - Ranking" to give a gift to your friend, one gift at a time. "You can receive the reward corresponding to the progress of your invitation at "Home - Quest - Daily Invitation".'),n("br"),n("br"),t._v("\n          Way 3: You can get Rebirth Charms by clicking on the gift link sent by your friend or by scanning the image sent by your friend. You can get one Rebirth Charm each time, and there is a daily cap of 40. "),n("br")]),t._v(" "),n("div",{staticClass:"small-title2"},[t._v("[Reward Claiming Conditions] ")]),t._v(" "),n("div",{staticClass:"text"},[t._v('\n          1. Play the game to obtain Sweet Dumplings, which can be used to feed Forerunner and claim rewards in "Home-Quest-Feeding Quest".'),n("br"),t._v("\n          The more Sweet Dumplings you obtain, the more rewards you can claim. Part of the rewards is gradually available to claim during the event."),n("br"),t._v("\n          Deadline: 20:00 (UTC), February 17, 2023.\n        ")]),t._v(" "),n("div",{staticClass:"text"},[t._v('\n          2. You will accumulate Flying Distance as you play the game. When the Flying Distance reaches a certain number, you will get "Emoji Unlocking" items by opening chests in the game, which can randomly unlock emojis in "Home-Quest-Emojis". When specific emojis are unlocked, you are entitled to claim "Regular Treasure Choice Gift" rewards.'),n("br"),t._v("\n          Deadline: 20:00 (UTC), February 17, 2023.\n        ")]),t._v(" "),n("div",{staticClass:"text"},[t._v("\n          3. The difficulty of the event is the same for both Mobile Users and PC Users, and the data is synchronized.\n        ")]),t._v(" "),n("div",{staticClass:"text"},[t._v("\n          4. Rewards are in-game items of NARAKA: BLADEPOINT. Only users who have created a character in the game can claim the rewards. Your rewards will be sent to your in-game email. If there is a delay, please log in to the game and check your email later.\n        ")]),t._v(" "),n("div",{staticClass:"text"},[t._v("\n          5. If there is no character bound, only the dumplings of the last round of the event will be recorded. After a character is bound, dumplings of the current day will be added up. In case of losing progress, log in to the game as soon as possible to claim your rewards.\n        ")])])])}],!1,null,null,null);d.options.__file="src/containers/Rule.vue";var v=d.exports,h=n("m/+D");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g={name:"Home",components:{rule:v},data:function(){return{showRule:!1,hasCanGetReward:!1,encoreCount:0,gameStart:!1,canFly:!1}},methods:{logout:function(){window.localStorage.setItem("noLoginData",""),this.$multiLogin.logout({onLogout:function(){window.location.reload()}})},login:function(){var t=this;Object(h.g)(this.$multiLogin,(function(){t.getRedPoint()}))},goTask:function(){this.$router.push({path:"/task",query:{type:"invite"}})},rankShow:function(){this.$router.push("/rank")},ruleShow:function(t){this.showRule=t},taskShow:function(){this.$router.push("/task")},audioSwitch:function(){window.dispatchEvent(new CustomEvent("audioSwitch"))},getRedPoint:function(){var t=this;Object(o.l)().then((function(e){if(e.code===o.a.SUCCESS){var n=e.data;t.encoreCount=n.encoreCount,t.hasCanGetReward=n.ball||n.encore||n.guide}else e.code===o.a.NOLOGIN&&t.noLoginInitRed()}))},noLoginInitRed:function(){var t=window.localStorage.getItem("score");this.hasCanGetReward=!!t&&t>1},aniInit:function(){nie.define("ani",(function(){var t;r.a.create({$ele:"#feishu",images:(t=n("mhr+"),t.keys().map(t)),width:400,height:400,gap:1e3/12,loop:!0})}))},startGame:function(){$(".home-main").css("transition","0.5s"),$("#feishu").css("transition","0.5s"),this.gameStart=!0,this.canFly=!0},flyEnd:function(){window.dispatchEvent(new CustomEvent("flyEnd"))},gameBack:function(){$("#feishu").css("display","block"),$(".home-main").css("transition","0s"),$("#feishu").css("transition","0s"),this.canFly=!1,this.gameStart=!1,this.getRedPoint()}},mounted:function(){this.getRedPoint(),this.aniInit(),window.addEventListener("gameToHome",this.gameBack),window.addEventListener("homeBack",this.gameBack),window.addEventListener("startGame",this.startGame),window.addEventListener("loginOver",this.getRedPoint)},destroyed:function(){window.removeEventListener("gameToHome",this.gameBack),window.removeEventListener("homeBack",this.gameBack),window.removeEventListener("startGame",this.startGame),window.removeEventListener("loginOver",this.getRedPoint)},computed:p(p({},Vuex.mapState(["loginChannel","audioStatus","channel","userInfo","isLogin"])),{},{showLogout:function(){return"wxXcx"!==this.loginChannel&&"xcxInner"!==this.loginChannel}})},m=(n("pET6"),Object(u.a)(g,i,[],!1,null,null,null));m.options.__file="src/containers/Home.vue";e.default=m.exports},vQ60:function(t,e,n){}}]);